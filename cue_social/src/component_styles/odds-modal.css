/* ---------------- Modal Overlay ---------------- */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  justify-content: center; /* center modal horizontally */
  align-items: start;      /* align to top for scrolling */
  padding-top: 40px;       /* space from top */
  background: rgba(0,0,0,0.5);
  z-index: 1000;
  overflow-y: auto;
}

/* ---------------- Modal Container ---------------- */
.modal-odds {
  width: 90vw;       /* fallback for small screens */
  max-width: none;   /* remove old max-width */
  max-height: 90vh;
  overflow-y: auto;
  padding: var(--space-5);
  background: var(--color-surface);
  border-radius: var(--radius-lg);
}

@media (min-width: 1024px) {
  .modal-odds {
    width: 1500px; /* full wide modal for desktop */
  }
}

.modal-header h2 {
  margin: 0;
}

.modal-subtitle {
  font-size: var(--fs-sm);
  color: var(--color-text-secondary);
  margin-top: var(--space-1);
}

.modal-close {
  background: none;
  border: none;
  font-size: 1.4rem;
  cursor: pointer;
}

/* ---------------- Spend Input ---------------- */
.spend-control {
  display: flex;
  flex-direction: column;
  margin-bottom: var(--space-4);
}

.spend-control label {
  font-weight: 600;
  margin-bottom: var(--space-2);
  font-size: var(--fs-sm);
  color: var(--color-text-secondary);
}

.spend-control input[type="number"] {
  padding: 0.5rem 0.75rem;
  font-size: var(--fs-md);
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border);
  background: var(--color-surface);
  color: var(--color-text-primary);
  transition: border-color 0.15s, box-shadow 0.15s;
}

.spend-control input[type="number"]:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 2px rgba(108, 140, 255, 0.2);
}

/* ---------------- Charts Split ---------------- */
.charts-split {
  display: grid;
  grid-template-columns: 1fr 1fr; /* equal width panels */
  gap: var(--space-6);
  margin-top: var(--space-5);
}

@media (max-width: 900px) {
  .charts-split {
    grid-template-columns: 1fr; /* stack vertically on mobile */
  }
}

/* ---------------- Left Panel: Expected ---------------- */
.expected-wrapper {
  display: flex;
  flex-direction: column;
  padding: var(--space-5);
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-low);
}

.expected-title {
  font-size: var(--fs-md);
  font-weight: 600;
  margin-bottom: var(--space-4);
}

.expected-row {
  display: flex;
  justify-content: space-between;
  padding: var(--space-2) 0;
  border-bottom: 1px solid var(--color-border);
}

.expected-row:last-child {
  border-bottom: none;
}

.expected-label {
  color: var(--color-text-secondary);
}

.expected-value {
  font-weight: 600;
  color: var(--color-text-primary);
}

/* ---------------- Right Panel: Odds / Distribution Charts ---------------- */
.charts-wrapper {
  display: flex;
  flex-direction: column;
  padding: var(--space-5);
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-low);
  gap: var(--space-4);
}

/* ---------------- Individual Chart Block ---------------- */
.chart-block {
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;  /* stretch to fill available height */
}

.chart-label {
  font-weight: 600;
  margin-bottom: var(--space-2);
  min-height: 24px; /* ensures all labels occupy same vertical space */
}

/* Make chart SVGs fill the block */
.kde-chart,
.odds-chart {
  flex: 1 1 auto;
  width: 100%;
  height: 100%;
}

/* ---------------- Axes & Grid ---------------- */
.axis-line {
  stroke: var(--color-border);
  stroke-width: 1;
}

.axis-tick {
  stroke: var(--color-border);
}

.axis-label {
  font-size: 11px;
  fill: var(--color-text-secondary);
}

.grid-line {
  stroke: var(--color-border);
  stroke-dasharray: 4 4;
}

.hover-line {
  stroke: var(--color-text-secondary);
  stroke-width: 1;
}

.hover-tooltip {
  pointer-events: none;
}

.tooltip-bg {
  fill: var(--color-surface);
  stroke: var(--color-border);
  filter: drop-shadow(0 6px 16px rgba(0,0,0,0.45));
}

.tooltip-subtext {
  font-size: 11px;
  fill: var(--color-text-secondary);
}

/* ---------------- Chart Value Text ---------------- */
.chart-value {
  margin-top: var(--space-2);
  font-size: var(--fs-sm);
  color: var(--color-text-secondary);
}

.shared-tooltip {
  margin-top: var(--space-4);
  font-weight: 500;
}

/* ---------------- Empty Chart Message ---------------- */
.chart-empty {
  font-size: var(--fs-sm);
  color: var(--color-text-secondary);
  text-align: center;
  padding: 1rem 0;
}

@media (min-width: 1024px) {
  .modal-odds {
    width: 1000px; /* wider for large screens */
  }
}